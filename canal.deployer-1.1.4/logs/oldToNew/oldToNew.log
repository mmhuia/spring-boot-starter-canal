2020-04-24 10:53:48.657 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 10:53:48.671 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 10:53:48.672 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 10:53:48.878 [canal-instance-scan-0] WARN  o.s.beans.GenericTypeAwarePropertyDescriptor - Invalid JavaBean property 'connectionCharset' being accessed! Ambiguous write methods found next to actually used [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.lang.String)]: [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.nio.charset.Charset)]
2020-04-24 10:53:48.929 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 10:53:48.930 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 10:53:48.930 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 10:53:49.400 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.spring.CanalInstanceWithSpring - start CannalInstance for 1-oldToNew 
2020-04-24 10:53:49.406 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table filter : ^.*\..*$
2020-04-24 10:53:49.406 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table black filter : 
2020-04-24 10:53:49.439 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.core.AbstractCanalInstance - start successful....
2020-04-24 10:53:49.471 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> begin to find start position, it will be long time for reset or first position
2020-04-24 10:53:49.498 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - prepare to find start position just last position
 {"identity":{"slaveId":-1,"sourceAddress":{"address":"127.0.0.1","port":3306}},"postion":{"gtid":"","included":false,"journalName":"mysql-bin.000003","position":171085,"serverId":1,"timestamp":1587631784000}}
2020-04-24 10:53:49.959 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> find start position successfully, EntryPosition[included=false,journalName=mysql-bin.000003,position=171085,serverId=1,gtid=,timestamp=1587631784000] cost : 473ms , the next step is binlog dump
2020-04-24 14:42:35.361 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 14:42:35.372 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 14:42:35.372 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 14:42:35.758 [canal-instance-scan-0] WARN  o.s.beans.GenericTypeAwarePropertyDescriptor - Invalid JavaBean property 'connectionCharset' being accessed! Ambiguous write methods found next to actually used [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.lang.String)]: [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.nio.charset.Charset)]
2020-04-24 14:42:35.877 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 14:42:35.880 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 14:42:35.882 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 14:42:37.094 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.spring.CanalInstanceWithSpring - start CannalInstance for 1-oldToNew 
2020-04-24 14:42:37.107 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table filter : ^.*\..*$
2020-04-24 14:42:37.107 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table black filter : 
2020-04-24 14:42:37.188 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.core.AbstractCanalInstance - start successful....
2020-04-24 14:42:37.250 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> begin to find start position, it will be long time for reset or first position
2020-04-24 14:42:37.300 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - prepare to find start position just last position
 {"identity":{"slaveId":-1,"sourceAddress":{"address":"127.0.0.1","port":3306}},"postion":{"gtid":"","included":false,"journalName":"mysql-bin.000003","position":172297,"serverId":1,"timestamp":1587710056000}}
2020-04-24 14:42:38.780 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> find start position successfully, EntryPosition[included=false,journalName=mysql-bin.000003,position=172297,serverId=1,gtid=,timestamp=1587710056000] cost : 1504ms , the next step is binlog dump
2020-04-24 16:49:28.102 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` PROCEDURE `proc_modify_areainfo_data`(in p_id varchar(100),in p_values varchar(400),out run_result json)
begin 
	declare v_id varchar(100);
	declare v_par_id varchar(100);
	declare v_par_ids json;
	declare v_len int;
	declare done int default 0;
  declare v_err_message varchar(4000);
  declare v_info boolean default false;
	declare v_code varchar(20);
	declare v_name varchar(100);
  declare v_id1   varchar(100);
	declare v_res_code varchar(100);
	declare v_res_name varchar(100);
	declare v_res_id varchar(100);
	declare v_json_code varchar(100);
	declare v_json_name varchar(100);
	declare v_json_id varchar(100);
	declare v_res_json varchar(200);
	declare v_values_id varchar(100)   default json_unquote(p_values -> '$.key');
	declare v_values_code varchar(100) default json_unquote(p_values -> '$.code');
	declare v_values_name varchar(100) default json_unquote(p_values -> '$.name');
	declare res_cursor cursor for select id, par_id, par_ids, json_length(par_ids) as len from t_bss_areainfo
																where find_in_set(id, fun_querychildinfo_down(p_id));
	declare continue handler for not found set done = 1;
  declare exit handler for sqlexception,sqlwarning,3141
    begin
      get diagnostics condition 1  v_err_message = message_text;
      set v_info = false;
      set run_result = json_object('result', v_info, 'message', v_err_message);
    end;
	select id, code , name into v_id1 ,v_code , v_name from t_bss_areainfo where id = p_id;
	open res_cursor;
	fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	while done <> 1 do
    while v_len >= 1 do
      set v_json_code =  concat('$[',v_len-1,'].code');
      set v_json_name =  concat('$[',v_len-1,'].name');
      set v_json_id =    concat('$[',v_len-1,'].key');
  	  set v_res_code = json_unquote(json_extract(v_par_ids, v_json_code));
      set v_res_name = json_unquote(json_extract(v_par_ids, v_json_name));
      set v_res_id =   json_unquote(json_extract(v_par_ids, v_json_id));
      set v_res_json = json_extract(v_par_ids,concat('$[',v_len - 1,']'));
      if v_res_id = v_id1 and v_res_code = v_code and v_res_name = v_name then
         update t_bss_areainfo set par_ids = json_replace(par_ids,v_json_id,v_id1,v_json_code, v_values_code,v_json_name,v_values_name)
         where id = v_id;
      end if;
      set v_len = v_len - 1;
    end while;
		fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	end while;
	close res_cursor;
	if done = 1 then 
		update t_bss_areainfo set code = v_values_code,name = v_values_name where id = v_values_id;
		set v_info = true;
		set run_result = json_object('result', v_info, 'message', '执行成功');
	end if;
end
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 1185, line 26, column 12, token IDENTIFIER exit
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateProcedure(MySqlStatementParser.java:8209) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:396) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.149 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `crc64`(data LONGTEXT CHARSET utf8mb4) RETURNS bigint(20) unsigned
    NO SQL
    DETERMINISTIC
    SQL SECURITY INVOKER
    COMMENT 'Return a 64 bit CRC of given input, as unsigned big integer'
BEGIN
  RETURN CONV(LEFT(MD5(data), 16), 16, 10);
END
com.alibaba.fastsql.sql.parser.ParserException: syntax error, error in :'   NO SQL
    DETERMINISTIC
    SQL , pos 106, line 2, column 9, token IDENTIFIER SQL
	at com.alibaba.fastsql.sql.parser.SQLParser.printError(SQLParser.java:430) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:566) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatement(SQLStatementParser.java:4036) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8130) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.160 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_num_char_extract`(Varstring VARCHAR(100)CHARSET utf8, flag INT) RETURNS varchar(50) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	DECLARE len INT DEFAULT 0;
	DECLARE Tmp VARCHAR(100) DEFAULT '';
	SET len=CHAR_LENGTH(Varstring);
	IF flag = 0 
	THEN
		WHILE len > 0 DO
		IF MID(Varstring,len,1)REGEXP'[0-9]' THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=1
	THEN
		WHILE len > 0 DO
		IF (MID(Varstring,len,1)REGEXP '[a-zA-Z]') 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=2
	THEN
		WHILE len > 0 DO
		IF ( (MID(Varstring,len,1)REGEXP'[0-9]')
		OR (MID(Varstring,len,1)REGEXP '[a-zA-Z]') ) 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=3
	THEN
		WHILE len > 0 DO
		IF NOT (MID(Varstring,len,1)REGEXP '^[u0391-uFFE5]')
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSE 
		SET Tmp = 'Error: The second paramter should be in (0,1,2,3)';
		RETURN Tmp;
	END IF;
	RETURN REVERSE(Tmp);
    END
com.alibaba.fastsql.sql.parser.ParserException: syntax error, error in :'WHILE;
	ELSEIF flag=1
	THEN
		WHILE len > 0, pos 451, line 15, column 10, token IDENTIFIER flag
	at com.alibaba.fastsql.sql.parser.SQLParser.printError(SQLParser.java:430) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:566) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseIf(MySqlStatementParser.java:8550) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseIf(MySqlStatementParser.java:44) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:346) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.199 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_dict_values`(p_key_type varchar(100),p_values varchar(100),p_type int) RETURNS varchar(1000) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
  DECLARE v_key_values,v_id,v_key_name VARCHAR (400); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	if p_type = 1 then 
		select id into v_id from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 2 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 3 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
	if p_type = 4 then 
		select id into v_id from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 5 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 6 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 248, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.223 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_server2port`(p_id varchar(400)) RETURNS varchar(400) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	declare v_info varchar(400);
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	select CONCAT('服务器名称：',ifnull(c.key_names,' '),'_',ifnull(d.key_names,' '),'_',ifnull (e.cpu_name,' '), ',服务器ip',ifnull(a.server_ip,' ') ,',网卡名：',ifnull(b.network,' ')) into v_info from t_bss_server a left join t_bss_server_network b on a.id = b.server_id 
		left join boss_auth_db.t_bss_user_dict c on a.server_brand =c.key_values  and c.`key_type` ='3'
		left join boss_auth_db.t_bss_user_dict d on a.server_model =d.key_values  and d.`key_type` ='4'
		left join t_bss_server_cpu e on a.id=e.server_id 
		where a.id = p_id;
	return v_info;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 183, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.283 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_sys_area_link_tab` AFTER INSERT ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
		  INSERT INTO boss_product_db.sys_area_link_tab
			(id, parent_id, name, `type`, parent_ids, code, sort, create_by, create_date, update_by, update_date, remarks, del_flag)
			VALUES(new.id, new.par_id, new.name, 1, '0,', new.code, '30', new.create_user, new.create_time, '1', now(), new.remark, '0');
		else 
			call proc_data_sync_areainfo(new.id,1);
		end if;
    END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.322 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_sys_area_link_tab` AFTER UPDATE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
			update boss_product_db.sys_area_link_tab 
			SET parent_id=new.par_id, name=new.name, `type`=1, parent_ids='0,', code=new.code, sort=new.sort, create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel
			WHERE id=new.id;
		ELSE
			call proc_data_sync_areainfo(new.id,2);
		end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.359 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_sys_area_link_tab` AFTER DELETE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_sys_area_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_areainfo')); 
	END; 
	delete from boss_product_db.sys_area_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.388 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_cabinet_link_tab` AFTER INSERT ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_cabinet')); 
	END; 
	IF
		new.type = 0 THEN
			INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
				id,
				create_by,
				create_date,
				update_by,
				update_date,
				remarks,
				del_flag,
				region,
				room,
				locationcode,
				`row`,
				lie,
				chanpin,
				NAME,
				price,
				denominated,
				specifications,
				`type`,
				billing,
				alwaysdigits,
				remarks_s,
				spaceid,
				voltage,
				amp,
				power,
				bearing,
				`attribute` 
			)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				new.region_id,
				new.isdel,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				concat_ws(
					'-',
					fun_return_location_code ( new.region_id, 1 ),
					new.`row`,
					new.coulmn 
				),
				new.`row`,
				new.coulmn,
				'',
				new.`name`,
				'',
				new.`status`,
				new.spec,
				'',
				'',
				new.us,
				new.remark,
				'',
				new.voltage,
				new.amp,
				new.power,
				new.bearing,
				new.attribute 
			);
		
		ELSEIF new.type = 1 THEN
		INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
			id,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag,
			region,
			room,
			ROW,
			lie 
		)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				NULL,
				2,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				new.ROW,
				new.coulmn 
			);
		
	END IF;

END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.407 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_cabinet_link_tab` AFTER UPDATE ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_cnt int default 0;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_cabinet')); 
	END; 
	SELECT
		count(*) INTO v_cnt 
	FROM
		boss_product_db.zq_xy_cabinet_link_tab 
	WHERE
		id = new.id;
	IF
		new.type = 0 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room,
					locationcode,
					`row`,
					lie,
					chanpin,
					NAME,
					price,
					denominated,
					specifications,
					`type`,
					billing,
					alwaysdigits,
					remarks_s,
					spaceid,
					voltage,
					amp,
					power,
					bearing,
					`attribute` 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					new.region_id,
					new.isdel,
					fun_return_location_code ( new.region_id, 2 ),
					fun_return_location_code ( new.region_id, 3 ),
					concat_ws(
						'-',
						fun_return_location_code ( new.region_id, 1 ),
						new.`row`,
						new.coulmn 
					),
					new.`row`,
					new.coulmn,
					'',
					new.`name`,
					'',
					new.`status`,
					new.spec,
					'',
					'',
					new.us,
					new.remark,
					'',
					new.voltage,
					new.amp,
					new.power,
					new.bearing,
					new.attribute 
				);
			ELSE UPDATE boss_product_db.zq_xy_cabinet_link_tab 
			SET create_by = new.create_user,
			create_date = new.create_time,
			update_by = new.update_user,
			update_date = new.update_time,
			remarks = new.region_id,
			del_flag = new.isdel,
			region = fun_return_location_code ( new.region_id, 2 ),
			room = fun_return_location_code ( new.region_id, 3 ),
			locationcode = concat_ws(
				'-',
				fun_return_location_code ( new.region_id, 1 ),
				new.`row`,
				new.coulmn 
			),
			`row` = new.`row`,
			lie = new.coulmn,
			chanpin = '',
			NAME = new.`name`,
			price = '',
			denominated = new.`status`,
			specifications = new.spec,
			`type` = '',
			billing = '',
			alwaysdigits = new.us,
			remarks_s = new.remark,
			spaceid = '',
			voltage = new.voltage,
			amp = new.amp,
			power = new.power,
			bearing = new.bearing,
			`attribute` = new.attribute 
			WHERE
				id = new.id;
			
		END IF;
		
		ELSEIF new.type = 1 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					NULL,
					2,
					fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ));
			ELSE UPDATE zq_xy_cabinet_link_tab 
			SET locationcode = NULL,
			chanpin = NULL,
			NAME = NULL,
			price = NULL,
			denominated = NULL,
			specifications = NULL,
			type = NULL,
			billing = NULL,
			alwaysdigits = NULL,
			remarks_s = NULL,
			spaceid = NULL,
			voltage = NULL,
			amp = NULL,
			power = NULL,
			bearing = NULL,
			attribute = NULL 
			WHERE
				id = new.id;
			
		END IF;
		
	END IF;

END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 206, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.430 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_cabinet_link_tab` AFTER DELETE ON `t_bss_cabinet` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_cabinet_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_cabinet')); 
	END; 
	DELETE from zq_xy_cabinet_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 175, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.470 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_house_link_tab` AFTER INSERT ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_house_name,v_house_code,v_area,v_location,v_uuid,v_floor_location varchar(500);
	declare v_cnt int default 0;
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_house_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_house')); 
	END; 
	
	set v_house_name = trim(new.old_house_name);
	set v_house_code = trim(new.old_house_code);
	
	select count(*) into v_cnt from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
	select replace(uuid(),'-','') into v_uuid;
	select replace(group_concat(name),',','/') into v_area from (
		select  name from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	if v_cnt = 0 THEN
		INSERT INTO boss_product_db.zq_hostspaces_house_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, attribution, area, coordinate, voltage, amp, power, head, description, position_code, sort)
		VALUES(v_uuid, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, 0, v_house_name, v_house_code, new.attribute, v_area, '', '0', '0', '0', '', '', v_location, 20);
		
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	ELSE
		select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 295, line 6, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.489 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_house_link_tab` AFTER UPDATE ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_location,v_uuid,v_floor_location varchar(500);
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_house_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_house')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	
	select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=trim(new.old_house_name) and code = trim(new.old_house_code);
	
	UPDATE boss_product_db.zq_hostspaces_floor_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, house=v_uuid, `number`=new.num, proportion='', voltage='0', amp='0', power='0', head='', description=new.addr, position_code=v_floor_location, alias=new.alias
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 232, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.509 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_house_link_tab` AFTER DELETE ON `t_bss_house` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_house_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_house')); 
	END; 
	delete from boss_product_db.zq_hostspaces_floor_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 172, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.548 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_port_link_tab` AFTER INSERT ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_insert_port_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			INSERT INTO boss_product_db.zq_ho_port_link_tab
			(id, create_by, create_date, update_by, update_date, remarks, del_flag, po_port, po_type, po_sult, po_speed, po_career, po_usue, po_market, po_boadrdid, po_module, net_type, vlan_base, switch_state, url, img, remarks1)
			VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, case when new.device_id is not null then v_info else null end, 
				   new.isdel, new.port, new.type, new.sult, new.speed, new.career, new.status, 1, new.network_device_id, null, null, null, null, new.url, null, new.remark);
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 232, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.569 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_port_link_tab` AFTER UPDATE ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_upadte_port_link_tab'),'admin',now(),new.id,v_err_message,upper('update'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			UPDATE boss_product_db.zq_ho_port_link_tab
				SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=case when new.device_id is not null then v_info else null end,
					del_flag=new.isdel, po_port=new.port, po_type=new.type, po_sult=new.sult, po_speed=new.speed, po_career=new.career, po_usue=new.status, po_market='1', po_boadrdid=new.network_device_id, po_module=null, net_type=null, vlan_base=null, switch_state=null, url=new.url, img=null, remarks1=new.remark
				WHERE id=new.id;
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 229, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.607 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_board_link_tab` AFTER INSERT ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_insert_board_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_devices')); 
		END; 
	if SUBSTRING_INDEX(USER(),'@',1) = 'it' then 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	INSERT INTO zq_ho_board_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, bo_name, bo_arae, bo_cabinet, bo_camname, bo_camtype, bo_portid, bo_purchasingtime, bo_storagetime, bo_num, bo_porttype, bo_speed, bo_career, bo_machineroom, bo_storey, bo_district, bo_cabinetid, bo_ubat, bo_startubat, bo_ip, bo_modelnumber, bo_storage)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, '', fun_return_location_code(v_region_id, 2), v_name, new.device_name, new.device_type,'' , new.purchasingtime, new.storagetime, new.num, null,'' , '', fun_return_location_code(v_region_id, 3), '',concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column) , new.cabinet_id,new.uw ,new.startubat ,new.ip , v_model_id,new.`status` );
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 279, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.628 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_board_link_tab` AFTER UPDATE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_update_board_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_network_devices')); 
		END; 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	UPDATE boss_product_db.zq_ho_board_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, bo_name=null, bo_arae=fun_return_location_code(v_region_id, 2), 
			bo_cabinet=v_name, bo_camname=new.device_name, bo_camtype=new.device_type, bo_portid=null, bo_purchasingtime=new.purchasingtime, bo_storagetime=new.storagetime, bo_num=new.num, bo_porttype=null, bo_speed=null, bo_career=null, bo_machineroom=fun_return_location_code(v_region_id, 3), bo_storey=null, bo_district=concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column), bo_cabinetid=new.cabinet_id, bo_ubat=new.uw, bo_startubat=new.startubat, bo_ip=new.ip, bo_modelnumber=v_model_id, bo_storage=new.`status`
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 275, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.647 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_board_link_tab` AFTER DELETE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_delete_board_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_network_devices')); 
		END; 
		
		delete from zq_ho_board_link_tab where id = old.id;
		
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 182, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.717 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_region_link_tab` AFTER INSERT ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_region_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	INSERT INTO boss_product_db.zq_hostspaces_region_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, region_row, region_column, floor, voltage, amp, power, head, description, position_code, ubit, specifications, bearing)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.name, new.`code`, new.`row`, new.col, new.house_id, new.voltage, new.amp, new.power, new.fzr, new.description, v_location, new.cabinet_u_count, new.spec, new.bearing);
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 226, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.735 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_region_link_tab` AFTER UPDATE ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_region_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	UPDATE boss_product_db.zq_hostspaces_region_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, region_row=new.`row`, region_column=new.col, floor=new.house_id, voltage=new.voltage, amp=new.amp, power=new.power, head=new.fzr, description=new.description, position_code=v_location, ubit=new.cabinet_u_count, specifications=new.spec, bearing=new.bearing
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 226, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.755 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_region_link_tab` AFTER DELETE ON `t_bss_region` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_region_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_region')); 
	END; 
	delete from boss_product_db.zq_hostspaces_region_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 173, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.808 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_ulocation_link_tab` AFTER INSERT ON `t_bss_ulocation` FOR EACH ROW BEGIN 
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_ulocation')); 
	END; 
	INSERT INTO boss_product_db.zq_xy_ulocation_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, uw, manage, name, state, cabinetid, `type`, equipmentid, customerid)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.uw, new.manager_ip, new.device_name, 
					case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, new.cabinet_id, new.type, new.device_id, new.subscribe_customer);
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 180, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.829 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_ulocation_link_tab` AFTER UPDATE ON `t_bss_ulocation` FOR EACH ROW BEGIN 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_ulocation')); 
	END; 
	UPDATE boss_product_db.zq_xy_ulocation_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, uw=new.uw, manage=new.manager_ip, name=new.device_name, state=case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, cabinetid=new.cabinet_id, `type`=new.type, equipmentid=new.device_id, customerid=new.subscribe_customer
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 181, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 16:49:28.854 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_ulocation_link_tab` AFTER DELETE ON `t_bss_ulocation` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_ulocation_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_ulocation')); 
	END; 
	delete from zq_xy_ulocation_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 180, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:27.014 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 17:29:27.018 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 17:29:27.018 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 17:29:27.168 [canal-instance-scan-0] WARN  o.s.beans.GenericTypeAwarePropertyDescriptor - Invalid JavaBean property 'connectionCharset' being accessed! Ambiguous write methods found next to actually used [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.lang.String)]: [public void com.alibaba.otter.canal.parse.inbound.mysql.AbstractMysqlEventParser.setConnectionCharset(java.nio.charset.Charset)]
2020-04-24 17:29:27.203 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [canal.properties]
2020-04-24 17:29:27.203 [canal-instance-scan-0] INFO  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Loading properties file from class path resource [oldToNew/instance.properties]
2020-04-24 17:29:27.204 [canal-instance-scan-0] WARN  c.a.o.c.i.spring.support.PropertyPlaceholderConfigurer - Could not load properties from class path resource [oldToNew/instance.properties]: class path resource [oldToNew/instance.properties] cannot be opened because it does not exist
2020-04-24 17:29:27.571 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.spring.CanalInstanceWithSpring - start CannalInstance for 1-oldToNew 
2020-04-24 17:29:27.576 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table filter : ^.*\..*$
2020-04-24 17:29:27.577 [canal-instance-scan-0] WARN  c.a.o.canal.parse.inbound.mysql.dbsync.LogEventConvert - --> init table black filter : 
2020-04-24 17:29:27.601 [canal-instance-scan-0] INFO  c.a.otter.canal.instance.core.AbstractCanalInstance - start successful....
2020-04-24 17:29:27.622 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> begin to find start position, it will be long time for reset or first position
2020-04-24 17:29:27.639 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - prepare to find start position just last position
 {"identity":{"slaveId":-1,"sourceAddress":{"address":"127.0.0.1","port":3306}},"postion":{"gtid":"","included":false,"journalName":"mysql-bin.000003","position":298757,"serverId":1,"timestamp":1587718167000}}
2020-04-24 17:29:28.066 [destination = oldToNew , address = /127.0.0.1:3306 , EventParser] WARN  c.a.o.c.p.inbound.mysql.rds.RdsBinlogEventParserProxy - ---> find start position successfully, EntryPosition[included=false,journalName=mysql-bin.000003,position=298757,serverId=1,gtid=,timestamp=1587718167000] cost : 432ms , the next step is binlog dump
2020-04-24 17:29:28.218 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE TABLE `t_bss_ulocation` (
`id`  char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '主键' ,
`isdel`  int(1) NOT NULL COMMENT '逻辑删除' ,
`cabinet_id`  char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '机柜ID' ,
`uw`  int(10) NOT NULL COMMENT 'U位' ,
`device_name`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '设备名称' ,
`device_id`  char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '设备ID' ,
`manager_ip`  varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '管理IP' ,
`remark`  varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备注' ,
`status`  int(1) NOT NULL COMMENT 'U位状态(使用状态) 0:占用 1:可用 3:已预约' ,
`type`  int(1) NULL DEFAULT 0 COMMENT '设备类型' ,
`create_time`  datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间' ,
`create_user`  char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '创建用户' ,
`update_time`  datetime NULL DEFAULT NULL COMMENT '更新时间' ,
`update_user`  char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '更新用户' ,
`subscribe_customer`  varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '预约客户' ,
PRIMARY KEY (`id`),
INDEX `idx_cabinet_id` (`cabinet_id`) USING BTREE ,
INDEX `idx_device_id` (`device_id`) USING BTREE 
)
ENGINE=InnoDB
DEFAULT CHARACTER SET=utf8mb4 COLLATE=utf8mb4_general_ci
COMMENT='U位'
2020-04-24 17:29:28.395 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` PROCEDURE `proc_modify_areainfo_data`(in p_id varchar(100),in p_values varchar(400),out run_result json)
begin 
	declare v_id varchar(100);
	declare v_par_id varchar(100);
	declare v_par_ids json;
	declare v_len int;
	declare done int default 0;
  declare v_err_message varchar(4000);
  declare v_info boolean default false;
	declare v_code varchar(20);
	declare v_name varchar(100);
  declare v_id1   varchar(100);
	declare v_res_code varchar(100);
	declare v_res_name varchar(100);
	declare v_res_id varchar(100);
	declare v_json_code varchar(100);
	declare v_json_name varchar(100);
	declare v_json_id varchar(100);
	declare v_res_json varchar(200);
	declare v_values_id varchar(100)   default json_unquote(p_values -> '$.key');
	declare v_values_code varchar(100) default json_unquote(p_values -> '$.code');
	declare v_values_name varchar(100) default json_unquote(p_values -> '$.name');
	declare res_cursor cursor for select id, par_id, par_ids, json_length(par_ids) as len from t_bss_areainfo
																where find_in_set(id, fun_querychildinfo_down(p_id));
	declare continue handler for not found set done = 1;
  declare exit handler for sqlexception,sqlwarning,3141
    begin
      get diagnostics condition 1  v_err_message = message_text;
      set v_info = false;
      set run_result = json_object('result', v_info, 'message', v_err_message);
    end;
	select id, code , name into v_id1 ,v_code , v_name from t_bss_areainfo where id = p_id;
	open res_cursor;
	fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	while done <> 1 do
    while v_len >= 1 do
      set v_json_code =  concat('$[',v_len-1,'].code');
      set v_json_name =  concat('$[',v_len-1,'].name');
      set v_json_id =    concat('$[',v_len-1,'].key');
  	  set v_res_code = json_unquote(json_extract(v_par_ids, v_json_code));
      set v_res_name = json_unquote(json_extract(v_par_ids, v_json_name));
      set v_res_id =   json_unquote(json_extract(v_par_ids, v_json_id));
      set v_res_json = json_extract(v_par_ids,concat('$[',v_len - 1,']'));
      if v_res_id = v_id1 and v_res_code = v_code and v_res_name = v_name then
         update t_bss_areainfo set par_ids = json_replace(par_ids,v_json_id,v_id1,v_json_code, v_values_code,v_json_name,v_values_name)
         where id = v_id;
      end if;
      set v_len = v_len - 1;
    end while;
		fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	end while;
	close res_cursor;
	if done = 1 then 
		update t_bss_areainfo set code = v_values_code,name = v_values_name where id = v_values_id;
		set v_info = true;
		set run_result = json_object('result', v_info, 'message', '执行成功');
	end if;
end
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 1185, line 26, column 12, token IDENTIFIER exit
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateProcedure(MySqlStatementParser.java:8209) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:396) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.399 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`it`@`%` PROCEDURE `proc_modify_areainfo_data`(in p_id varchar(100),in p_values varchar(400),out run_result json)
begin 
	declare v_id varchar(100);
	declare v_par_id varchar(100);
	declare v_par_ids json;
	declare v_len int;
	declare done int default 0;
  declare v_err_message varchar(4000);
  declare v_info boolean default false;
	declare v_code varchar(20);
	declare v_name varchar(100);
  declare v_id1   varchar(100);
	declare v_res_code varchar(100);
	declare v_res_name varchar(100);
	declare v_res_id varchar(100);
	declare v_json_code varchar(100);
	declare v_json_name varchar(100);
	declare v_json_id varchar(100);
	declare v_res_json varchar(200);
	declare v_values_id varchar(100)   default json_unquote(p_values -> '$.key');
	declare v_values_code varchar(100) default json_unquote(p_values -> '$.code');
	declare v_values_name varchar(100) default json_unquote(p_values -> '$.name');
	declare res_cursor cursor for select id, par_id, par_ids, json_length(par_ids) as len from t_bss_areainfo
																where find_in_set(id, fun_querychildinfo_down(p_id));
	declare continue handler for not found set done = 1;
  declare exit handler for sqlexception,sqlwarning,3141
    begin
      get diagnostics condition 1  v_err_message = message_text;
      set v_info = false;
      set run_result = json_object('result', v_info, 'message', v_err_message);
    end;
	select id, code , name into v_id1 ,v_code , v_name from t_bss_areainfo where id = p_id;
	open res_cursor;
	fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	while done <> 1 do
    while v_len >= 1 do
      set v_json_code =  concat('$[',v_len-1,'].code');
      set v_json_name =  concat('$[',v_len-1,'].name');
      set v_json_id =    concat('$[',v_len-1,'].key');
  	  set v_res_code = json_unquote(json_extract(v_par_ids, v_json_code));
      set v_res_name = json_unquote(json_extract(v_par_ids, v_json_name));
      set v_res_id =   json_unquote(json_extract(v_par_ids, v_json_id));
      set v_res_json = json_extract(v_par_ids,concat('$[',v_len - 1,']'));
      if v_res_id = v_id1 and v_res_code = v_code and v_res_name = v_name then
         update t_bss_areainfo set par_ids = json_replace(par_ids,v_json_id,v_id1,v_json_code, v_values_code,v_json_name,v_values_name)
         where id = v_id;
      end if;
      set v_len = v_len - 1;
    end while;
		fetch res_cursor into v_id,v_par_id,v_par_ids,v_len;
	end while;
	close res_cursor;
	if done = 1 then 
		update t_bss_areainfo set code = v_values_code,name = v_values_name where id = v_values_id;
		set v_info = true;
		set run_result = json_object('result', v_info, 'message', '执行成功');
	end if;
end
2020-04-24 17:29:28.403 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `crc64`(data LONGTEXT CHARSET utf8mb4) RETURNS bigint(20) unsigned
    NO SQL
    DETERMINISTIC
    SQL SECURITY INVOKER
    COMMENT 'Return a 64 bit CRC of given input, as unsigned big integer'
BEGIN
  RETURN CONV(LEFT(MD5(data), 16), 16, 10);
END
com.alibaba.fastsql.sql.parser.ParserException: syntax error, error in :'   NO SQL
    DETERMINISTIC
    SQL , pos 106, line 2, column 9, token IDENTIFIER SQL
	at com.alibaba.fastsql.sql.parser.SQLParser.printError(SQLParser.java:430) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:566) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatement(SQLStatementParser.java:4036) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8130) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.406 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`it`@`%` FUNCTION `crc64`(data LONGTEXT CHARSET utf8mb4) RETURNS bigint(20) unsigned
    NO SQL
    DETERMINISTIC
    SQL SECURITY INVOKER
    COMMENT 'Return a 64 bit CRC of given input, as unsigned big integer'
BEGIN
  RETURN CONV(LEFT(MD5(data), 16), 16, 10);
END
2020-04-24 17:29:28.408 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_num_char_extract`(Varstring VARCHAR(100)CHARSET utf8, flag INT) RETURNS varchar(50) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	DECLARE len INT DEFAULT 0;
	DECLARE Tmp VARCHAR(100) DEFAULT '';
	SET len=CHAR_LENGTH(Varstring);
	IF flag = 0 
	THEN
		WHILE len > 0 DO
		IF MID(Varstring,len,1)REGEXP'[0-9]' THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=1
	THEN
		WHILE len > 0 DO
		IF (MID(Varstring,len,1)REGEXP '[a-zA-Z]') 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=2
	THEN
		WHILE len > 0 DO
		IF ( (MID(Varstring,len,1)REGEXP'[0-9]')
		OR (MID(Varstring,len,1)REGEXP '[a-zA-Z]') ) 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=3
	THEN
		WHILE len > 0 DO
		IF NOT (MID(Varstring,len,1)REGEXP '^[u0391-uFFE5]')
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSE 
		SET Tmp = 'Error: The second paramter should be in (0,1,2,3)';
		RETURN Tmp;
	END IF;
	RETURN REVERSE(Tmp);
    END
com.alibaba.fastsql.sql.parser.ParserException: syntax error, error in :'WHILE;
	ELSEIF flag=1
	THEN
		WHILE len > 0, pos 451, line 15, column 10, token IDENTIFIER flag
	at com.alibaba.fastsql.sql.parser.SQLParser.printError(SQLParser.java:430) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:566) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseIf(MySqlStatementParser.java:8550) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseIf(MySqlStatementParser.java:44) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:346) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.410 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`it`@`%` FUNCTION `fun_num_char_extract`(Varstring VARCHAR(100)CHARSET utf8, flag INT) RETURNS varchar(50) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	DECLARE len INT DEFAULT 0;
	DECLARE Tmp VARCHAR(100) DEFAULT '';
	SET len=CHAR_LENGTH(Varstring);
	IF flag = 0 
	THEN
		WHILE len > 0 DO
		IF MID(Varstring,len,1)REGEXP'[0-9]' THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=1
	THEN
		WHILE len > 0 DO
		IF (MID(Varstring,len,1)REGEXP '[a-zA-Z]') 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=2
	THEN
		WHILE len > 0 DO
		IF ( (MID(Varstring,len,1)REGEXP'[0-9]')
		OR (MID(Varstring,len,1)REGEXP '[a-zA-Z]') ) 
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSEIF flag=3
	THEN
		WHILE len > 0 DO
		IF NOT (MID(Varstring,len,1)REGEXP '^[u0391-uFFE5]')
		THEN
		SET Tmp=CONCAT(Tmp,MID(Varstring,len,1));
		END IF;
		SET len = len - 1;
		END WHILE;
	ELSE 
		SET Tmp = 'Error: The second paramter should be in (0,1,2,3)';
		RETURN Tmp;
	END IF;
	RETURN REVERSE(Tmp);
    END
2020-04-24 17:29:28.414 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_dict_values`(p_key_type varchar(100),p_values varchar(100),p_type int) RETURNS varchar(1000) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
  DECLARE v_key_values,v_id,v_key_name VARCHAR (400); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	if p_type = 1 then 
		select id into v_id from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 2 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 3 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
	if p_type = 4 then 
		select id into v_id from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 5 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 6 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 248, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.416 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_dict_values`(p_key_type varchar(100),p_values varchar(100),p_type int) RETURNS varchar(1000) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
  DECLARE v_key_values,v_id,v_key_name VARCHAR (400); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	if p_type = 1 then 
		select id into v_id from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 2 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 3 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_user_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
	if p_type = 4 then 
		select id into v_id from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_id;
	end if;
	if p_type = 5 then
		SELECT key_name into v_key_name from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_name;
	end if;
	if p_type = 6 THEN
		SELECT key_values into v_key_values from boss_auth_db.t_bss_dict where key_type = p_key_type and key_values = p_values;
		return v_key_values;
	end if;
END
2020-04-24 17:29:28.419 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_server2port`(p_id varchar(400)) RETURNS varchar(400) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	declare v_info varchar(400);
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	select CONCAT('服务器名称：',ifnull(c.key_names,' '),'_',ifnull(d.key_names,' '),'_',ifnull (e.cpu_name,' '), ',服务器ip',ifnull(a.server_ip,' ') ,',网卡名：',ifnull(b.network,' ')) into v_info from t_bss_server a left join t_bss_server_network b on a.id = b.server_id 
		left join boss_auth_db.t_bss_user_dict c on a.server_brand =c.key_values  and c.`key_type` ='3'
		left join boss_auth_db.t_bss_user_dict d on a.server_model =d.key_values  and d.`key_type` ='4'
		left join t_bss_server_cpu e on a.id=e.server_id 
		where a.id = p_id;
	return v_info;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 183, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreateFunction(MySqlStatementParser.java:8128) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:393) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.422 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`it`@`%` FUNCTION `fun_return_server2port`(p_id varchar(400)) RETURNS varchar(400) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
	declare v_info varchar(400);
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN 
			return null;
		END; 
	select CONCAT('服务器名称：',ifnull(c.key_names,' '),'_',ifnull(d.key_names,' '),'_',ifnull (e.cpu_name,' '), ',服务器ip',ifnull(a.server_ip,' ') ,',网卡名：',ifnull(b.network,' ')) into v_info from t_bss_server a left join t_bss_server_network b on a.id = b.server_id 
		left join boss_auth_db.t_bss_user_dict c on a.server_brand =c.key_values  and c.`key_type` ='3'
		left join boss_auth_db.t_bss_user_dict d on a.server_model =d.key_values  and d.`key_type` ='4'
		left join t_bss_server_cpu e on a.id=e.server_id 
		where a.id = p_id;
	return v_info;
END
2020-04-24 17:29:28.430 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_sys_area_link_tab` AFTER INSERT ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
		  INSERT INTO boss_product_db.sys_area_link_tab
			(id, parent_id, name, `type`, parent_ids, code, sort, create_by, create_date, update_by, update_date, remarks, del_flag)
			VALUES(new.id, new.par_id, new.name, 1, '0,', new.code, '30', new.create_user, new.create_time, '1', now(), new.remark, '0');
		else 
			call proc_data_sync_areainfo(new.id,1);
		end if;
    END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.432 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_sys_area_link_tab` AFTER INSERT ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
		  INSERT INTO boss_product_db.sys_area_link_tab
			(id, parent_id, name, `type`, parent_ids, code, sort, create_by, create_date, update_by, update_date, remarks, del_flag)
			VALUES(new.id, new.par_id, new.name, 1, '0,', new.code, '30', new.create_user, new.create_time, '1', now(), new.remark, '0');
		else 
			call proc_data_sync_areainfo(new.id,1);
		end if;
    END
2020-04-24 17:29:28.434 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_sys_area_link_tab` AFTER UPDATE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
			update boss_product_db.sys_area_link_tab 
			SET parent_id=new.par_id, name=new.name, `type`=1, parent_ids='0,', code=new.code, sort=new.sort, create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel
			WHERE id=new.id;
		ELSE
			call proc_data_sync_areainfo(new.id,2);
		end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.436 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_sys_area_link_tab` AFTER UPDATE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_sys_area_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_areainfo')); 
	END; 
		if new.par_id = '0' then
			update boss_product_db.sys_area_link_tab 
			SET parent_id=new.par_id, name=new.name, `type`=1, parent_ids='0,', code=new.code, sort=new.sort, create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel
			WHERE id=new.id;
		ELSE
			call proc_data_sync_areainfo(new.id,2);
		end if;
END
2020-04-24 17:29:28.438 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_sys_area_link_tab` AFTER DELETE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_sys_area_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_areainfo')); 
	END; 
	delete from boss_product_db.sys_area_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 10, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.440 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_sys_area_link_tab` AFTER DELETE ON `t_bss_areainfo` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_sys_area_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_areainfo')); 
	END; 
	delete from boss_product_db.sys_area_link_tab where id = old.id;
END
2020-04-24 17:29:28.441 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_cabinet_link_tab` AFTER INSERT ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_cabinet')); 
	END; 
	IF
		new.type = 0 THEN
			INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
				id,
				create_by,
				create_date,
				update_by,
				update_date,
				remarks,
				del_flag,
				region,
				room,
				locationcode,
				`row`,
				lie,
				chanpin,
				NAME,
				price,
				denominated,
				specifications,
				`type`,
				billing,
				alwaysdigits,
				remarks_s,
				spaceid,
				voltage,
				amp,
				power,
				bearing,
				`attribute` 
			)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				new.region_id,
				new.isdel,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				concat_ws(
					'-',
					fun_return_location_code ( new.region_id, 1 ),
					new.`row`,
					new.coulmn 
				),
				new.`row`,
				new.coulmn,
				'',
				new.`name`,
				'',
				new.`status`,
				new.spec,
				'',
				'',
				new.us,
				new.remark,
				'',
				new.voltage,
				new.amp,
				new.power,
				new.bearing,
				new.attribute 
			);
		
		ELSEIF new.type = 1 THEN
		INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
			id,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag,
			region,
			room,
			ROW,
			lie 
		)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				NULL,
				2,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				new.ROW,
				new.coulmn 
			);
		
	END IF;

END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 176, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.443 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_cabinet_link_tab` AFTER INSERT ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_cabinet')); 
	END; 
	IF
		new.type = 0 THEN
			INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
				id,
				create_by,
				create_date,
				update_by,
				update_date,
				remarks,
				del_flag,
				region,
				room,
				locationcode,
				`row`,
				lie,
				chanpin,
				NAME,
				price,
				denominated,
				specifications,
				`type`,
				billing,
				alwaysdigits,
				remarks_s,
				spaceid,
				voltage,
				amp,
				power,
				bearing,
				`attribute` 
			)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				new.region_id,
				new.isdel,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				concat_ws(
					'-',
					fun_return_location_code ( new.region_id, 1 ),
					new.`row`,
					new.coulmn 
				),
				new.`row`,
				new.coulmn,
				'',
				new.`name`,
				'',
				new.`status`,
				new.spec,
				'',
				'',
				new.us,
				new.remark,
				'',
				new.voltage,
				new.amp,
				new.power,
				new.bearing,
				new.attribute 
			);
		
		ELSEIF new.type = 1 THEN
		INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
			id,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag,
			region,
			room,
			ROW,
			lie 
		)
		VALUES
			(
				new.id,
				new.create_user,
				new.create_time,
				new.update_user,
				new.update_time,
				NULL,
				2,
				fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ),
				new.ROW,
				new.coulmn 
			);
		
	END IF;

END
2020-04-24 17:29:28.444 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_cabinet_link_tab` AFTER UPDATE ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_cnt int default 0;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_cabinet')); 
	END; 
	SELECT
		count(*) INTO v_cnt 
	FROM
		boss_product_db.zq_xy_cabinet_link_tab 
	WHERE
		id = new.id;
	IF
		new.type = 0 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room,
					locationcode,
					`row`,
					lie,
					chanpin,
					NAME,
					price,
					denominated,
					specifications,
					`type`,
					billing,
					alwaysdigits,
					remarks_s,
					spaceid,
					voltage,
					amp,
					power,
					bearing,
					`attribute` 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					new.region_id,
					new.isdel,
					fun_return_location_code ( new.region_id, 2 ),
					fun_return_location_code ( new.region_id, 3 ),
					concat_ws(
						'-',
						fun_return_location_code ( new.region_id, 1 ),
						new.`row`,
						new.coulmn 
					),
					new.`row`,
					new.coulmn,
					'',
					new.`name`,
					'',
					new.`status`,
					new.spec,
					'',
					'',
					new.us,
					new.remark,
					'',
					new.voltage,
					new.amp,
					new.power,
					new.bearing,
					new.attribute 
				);
			ELSE UPDATE boss_product_db.zq_xy_cabinet_link_tab 
			SET create_by = new.create_user,
			create_date = new.create_time,
			update_by = new.update_user,
			update_date = new.update_time,
			remarks = new.region_id,
			del_flag = new.isdel,
			region = fun_return_location_code ( new.region_id, 2 ),
			room = fun_return_location_code ( new.region_id, 3 ),
			locationcode = concat_ws(
				'-',
				fun_return_location_code ( new.region_id, 1 ),
				new.`row`,
				new.coulmn 
			),
			`row` = new.`row`,
			lie = new.coulmn,
			chanpin = '',
			NAME = new.`name`,
			price = '',
			denominated = new.`status`,
			specifications = new.spec,
			`type` = '',
			billing = '',
			alwaysdigits = new.us,
			remarks_s = new.remark,
			spaceid = '',
			voltage = new.voltage,
			amp = new.amp,
			power = new.power,
			bearing = new.bearing,
			`attribute` = new.attribute 
			WHERE
				id = new.id;
			
		END IF;
		
		ELSEIF new.type = 1 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					NULL,
					2,
					fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ));
			ELSE UPDATE zq_xy_cabinet_link_tab 
			SET locationcode = NULL,
			chanpin = NULL,
			NAME = NULL,
			price = NULL,
			denominated = NULL,
			specifications = NULL,
			type = NULL,
			billing = NULL,
			alwaysdigits = NULL,
			remarks_s = NULL,
			spaceid = NULL,
			voltage = NULL,
			amp = NULL,
			power = NULL,
			bearing = NULL,
			attribute = NULL 
			WHERE
				id = new.id;
			
		END IF;
		
	END IF;

END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 206, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.446 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_cabinet_link_tab` AFTER UPDATE ON `t_bss_cabinet` FOR EACH ROW BEGIN
	DECLARE v_cnt int default 0;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_cabinet_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_cabinet')); 
	END; 
	SELECT
		count(*) INTO v_cnt 
	FROM
		boss_product_db.zq_xy_cabinet_link_tab 
	WHERE
		id = new.id;
	IF
		new.type = 0 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room,
					locationcode,
					`row`,
					lie,
					chanpin,
					NAME,
					price,
					denominated,
					specifications,
					`type`,
					billing,
					alwaysdigits,
					remarks_s,
					spaceid,
					voltage,
					amp,
					power,
					bearing,
					`attribute` 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					new.region_id,
					new.isdel,
					fun_return_location_code ( new.region_id, 2 ),
					fun_return_location_code ( new.region_id, 3 ),
					concat_ws(
						'-',
						fun_return_location_code ( new.region_id, 1 ),
						new.`row`,
						new.coulmn 
					),
					new.`row`,
					new.coulmn,
					'',
					new.`name`,
					'',
					new.`status`,
					new.spec,
					'',
					'',
					new.us,
					new.remark,
					'',
					new.voltage,
					new.amp,
					new.power,
					new.bearing,
					new.attribute 
				);
			ELSE UPDATE boss_product_db.zq_xy_cabinet_link_tab 
			SET create_by = new.create_user,
			create_date = new.create_time,
			update_by = new.update_user,
			update_date = new.update_time,
			remarks = new.region_id,
			del_flag = new.isdel,
			region = fun_return_location_code ( new.region_id, 2 ),
			room = fun_return_location_code ( new.region_id, 3 ),
			locationcode = concat_ws(
				'-',
				fun_return_location_code ( new.region_id, 1 ),
				new.`row`,
				new.coulmn 
			),
			`row` = new.`row`,
			lie = new.coulmn,
			chanpin = '',
			NAME = new.`name`,
			price = '',
			denominated = new.`status`,
			specifications = new.spec,
			`type` = '',
			billing = '',
			alwaysdigits = new.us,
			remarks_s = new.remark,
			spaceid = '',
			voltage = new.voltage,
			amp = new.amp,
			power = new.power,
			bearing = new.bearing,
			`attribute` = new.attribute 
			WHERE
				id = new.id;
			
		END IF;
		
		ELSEIF new.type = 1 THEN
		IF
			v_cnt = 0 THEN
				INSERT INTO boss_product_db.zq_xy_cabinet_link_tab (
					id,
					create_by,
					create_date,
					update_by,
					update_date,
					remarks,
					del_flag,
					region,
					room 
				)
			VALUES
				(
					new.id,
					new.create_user,
					new.create_time,
					new.update_user,
					new.update_time,
					NULL,
					2,
					fun_return_location_code ( new.region_id, 2 ),
				fun_return_location_code ( new.region_id, 3 ));
			ELSE UPDATE zq_xy_cabinet_link_tab 
			SET locationcode = NULL,
			chanpin = NULL,
			NAME = NULL,
			price = NULL,
			denominated = NULL,
			specifications = NULL,
			type = NULL,
			billing = NULL,
			alwaysdigits = NULL,
			remarks_s = NULL,
			spaceid = NULL,
			voltage = NULL,
			amp = NULL,
			power = NULL,
			bearing = NULL,
			attribute = NULL 
			WHERE
				id = new.id;
			
		END IF;
		
	END IF;

END
2020-04-24 17:29:28.456 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_cabinet_link_tab` AFTER DELETE ON `t_bss_cabinet` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_cabinet_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_cabinet')); 
	END; 
	DELETE from zq_xy_cabinet_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 175, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.459 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_cabinet_link_tab` AFTER DELETE ON `t_bss_cabinet` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_cabinet_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_cabinet')); 
	END; 
	DELETE from zq_xy_cabinet_link_tab where id = old.id;
END
2020-04-24 17:29:28.460 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_house_link_tab` AFTER INSERT ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_house_name,v_house_code,v_area,v_location,v_uuid,v_floor_location varchar(500);
	declare v_cnt int default 0;
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_house_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_house')); 
	END; 
	
	set v_house_name = trim(new.old_house_name);
	set v_house_code = trim(new.old_house_code);
	
	select count(*) into v_cnt from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
	select replace(uuid(),'-','') into v_uuid;
	select replace(group_concat(name),',','/') into v_area from (
		select  name from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	if v_cnt = 0 THEN
		INSERT INTO boss_product_db.zq_hostspaces_house_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, attribution, area, coordinate, voltage, amp, power, head, description, position_code, sort)
		VALUES(v_uuid, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, 0, v_house_name, v_house_code, new.attribute, v_area, '', '0', '0', '0', '', '', v_location, 20);
		
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	ELSE
		select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 295, line 6, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.463 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_house_link_tab` AFTER INSERT ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_house_name,v_house_code,v_area,v_location,v_uuid,v_floor_location varchar(500);
	declare v_cnt int default 0;
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_house_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_house')); 
	END; 
	
	set v_house_name = trim(new.old_house_name);
	set v_house_code = trim(new.old_house_code);
	
	select count(*) into v_cnt from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
	select replace(uuid(),'-','') into v_uuid;
	select replace(group_concat(name),',','/') into v_area from (
		select  name from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	if v_cnt = 0 THEN
		INSERT INTO boss_product_db.zq_hostspaces_house_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, attribution, area, coordinate, voltage, amp, power, head, description, position_code, sort)
		VALUES(v_uuid, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, 0, v_house_name, v_house_code, new.attribute, v_area, '', '0', '0', '0', '', '', v_location, 20);
		
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	ELSE
		select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=v_house_name and code = v_house_code;
		INSERT INTO boss_product_db.zq_hostspaces_floor_link_tab
		(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, house, `number`, proportion, voltage, amp, power, head, description, position_code, alias)
		VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.`name`, new.`code`, v_uuid, new.num, '', '0', '0', '0', '',new.addr, v_floor_location, new.alias);
	end if;
END
2020-04-24 17:29:28.464 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_house_link_tab` AFTER UPDATE ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_location,v_uuid,v_floor_location varchar(500);
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_house_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_house')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	
	select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=trim(new.old_house_name) and code = trim(new.old_house_code);
	
	UPDATE boss_product_db.zq_hostspaces_floor_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, house=v_uuid, `number`=new.num, proportion='', voltage='0', amp='0', power='0', head='', description=new.addr, position_code=v_floor_location, alias=new.alias
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 232, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.466 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_house_link_tab` AFTER UPDATE ON `t_bss_house` FOR EACH ROW BEGIN
	declare v_location,v_uuid,v_floor_location varchar(500);
	
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_house_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_house')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select  code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	set v_location = concat(v_location,'-',new.old_house_code);
	set v_floor_location = concat(v_location,'-',new.code);
	
	select id into v_uuid from boss_product_db.zq_hostspaces_house_link_tab where name=trim(new.old_house_name) and code = trim(new.old_house_code);
	
	UPDATE boss_product_db.zq_hostspaces_floor_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, house=v_uuid, `number`=new.num, proportion='', voltage='0', amp='0', power='0', head='', description=new.addr, position_code=v_floor_location, alias=new.alias
	WHERE id=new.id;
END
2020-04-24 17:29:28.467 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_house_link_tab` AFTER DELETE ON `t_bss_house` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_house_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_house')); 
	END; 
	delete from boss_product_db.zq_hostspaces_floor_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 172, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.469 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_house_link_tab` AFTER DELETE ON `t_bss_house` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_house_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_house')); 
	END; 
	delete from boss_product_db.zq_hostspaces_floor_link_tab where id = old.id;
END
2020-04-24 17:29:28.470 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_port_link_tab` AFTER INSERT ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_insert_port_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			INSERT INTO boss_product_db.zq_ho_port_link_tab
			(id, create_by, create_date, update_by, update_date, remarks, del_flag, po_port, po_type, po_sult, po_speed, po_career, po_usue, po_market, po_boadrdid, po_module, net_type, vlan_base, switch_state, url, img, remarks1)
			VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, case when new.device_id is not null then v_info else null end, 
				   new.isdel, new.port, new.type, new.sult, new.speed, new.career, new.status, 1, new.network_device_id, null, null, null, null, new.url, null, new.remark);
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 232, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.479 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_port_link_tab` AFTER INSERT ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_insert_port_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			INSERT INTO boss_product_db.zq_ho_port_link_tab
			(id, create_by, create_date, update_by, update_date, remarks, del_flag, po_port, po_type, po_sult, po_speed, po_career, po_usue, po_market, po_boadrdid, po_module, net_type, vlan_base, switch_state, url, img, remarks1)
			VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, case when new.device_id is not null then v_info else null end, 
				   new.isdel, new.port, new.type, new.sult, new.speed, new.career, new.status, 1, new.network_device_id, null, null, null, null, new.url, null, new.remark);
	end if;
END
2020-04-24 17:29:28.480 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_port_link_tab` AFTER UPDATE ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_upadte_port_link_tab'),'admin',now(),new.id,v_err_message,upper('update'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			UPDATE boss_product_db.zq_ho_port_link_tab
				SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=case when new.device_id is not null then v_info else null end,
					del_flag=new.isdel, po_port=new.port, po_type=new.type, po_sult=new.sult, po_speed=new.speed, po_career=new.career, po_usue=new.status, po_market='1', po_boadrdid=new.network_device_id, po_module=null, net_type=null, vlan_base=null, switch_state=null, url=new.url, img=null, remarks1=new.remark
				WHERE id=new.id;
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 229, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.496 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_port_link_tab` AFTER UPDATE ON `t_bss_network_device_port` FOR EACH ROW BEGIN 
	declare v_info varchar(400) DEFAULT NULL;
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
			INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
			VALUES (1,upper('trg_upadte_port_link_tab'),'admin',now(),new.id,v_err_message,upper('update'),0,0,upper('t_bss_network_device_port')); 
		END; 
	if substring_index(user(),'@',1) = 'it' then
		if new.device_id is not null then
			set v_info = fun_return_server2port(new.device_id);
		end if;
			UPDATE boss_product_db.zq_ho_port_link_tab
				SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=case when new.device_id is not null then v_info else null end,
					del_flag=new.isdel, po_port=new.port, po_type=new.type, po_sult=new.sult, po_speed=new.speed, po_career=new.career, po_usue=new.status, po_market='1', po_boadrdid=new.network_device_id, po_module=null, net_type=null, vlan_base=null, switch_state=null, url=new.url, img=null, remarks1=new.remark
				WHERE id=new.id;
	end if;
END
2020-04-24 17:29:28.497 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_board_link_tab` AFTER INSERT ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_insert_board_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_devices')); 
		END; 
	if SUBSTRING_INDEX(USER(),'@',1) = 'it' then 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	INSERT INTO zq_ho_board_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, bo_name, bo_arae, bo_cabinet, bo_camname, bo_camtype, bo_portid, bo_purchasingtime, bo_storagetime, bo_num, bo_porttype, bo_speed, bo_career, bo_machineroom, bo_storey, bo_district, bo_cabinetid, bo_ubat, bo_startubat, bo_ip, bo_modelnumber, bo_storage)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, '', fun_return_location_code(v_region_id, 2), v_name, new.device_name, new.device_type,'' , new.purchasingtime, new.storagetime, new.num, null,'' , '', fun_return_location_code(v_region_id, 3), '',concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column) , new.cabinet_id,new.uw ,new.startubat ,new.ip , v_model_id,new.`status` );
	end if;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 279, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.499 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_board_link_tab` AFTER INSERT ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_insert_board_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_network_devices')); 
		END; 
	if SUBSTRING_INDEX(USER(),'@',1) = 'it' then 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	INSERT INTO zq_ho_board_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, bo_name, bo_arae, bo_cabinet, bo_camname, bo_camtype, bo_portid, bo_purchasingtime, bo_storagetime, bo_num, bo_porttype, bo_speed, bo_career, bo_machineroom, bo_storey, bo_district, bo_cabinetid, bo_ubat, bo_startubat, bo_ip, bo_modelnumber, bo_storage)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, '', fun_return_location_code(v_region_id, 2), v_name, new.device_name, new.device_type,'' , new.purchasingtime, new.storagetime, new.num, null,'' , '', fun_return_location_code(v_region_id, 3), '',concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column) , new.cabinet_id,new.uw ,new.startubat ,new.ip , v_model_id,new.`status` );
	end if;
END
2020-04-24 17:29:28.501 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_board_link_tab` AFTER UPDATE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_update_board_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_network_devices')); 
		END; 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	UPDATE boss_product_db.zq_ho_board_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, bo_name=null, bo_arae=fun_return_location_code(v_region_id, 2), 
			bo_cabinet=v_name, bo_camname=new.device_name, bo_camtype=new.device_type, bo_portid=null, bo_purchasingtime=new.purchasingtime, bo_storagetime=new.storagetime, bo_num=new.num, bo_porttype=null, bo_speed=null, bo_career=null, bo_machineroom=fun_return_location_code(v_region_id, 3), bo_storey=null, bo_district=concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column), bo_cabinetid=new.cabinet_id, bo_ubat=new.uw, bo_startubat=new.startubat, bo_ip=new.ip, bo_modelnumber=v_model_id, bo_storage=new.`status`
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 275, line 5, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.503 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_board_link_tab` AFTER UPDATE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	declare v_region_id,v_name,v_model_id varchar(100);
	declare v_row,v_column int default 0; 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_update_board_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_network_devices')); 
		END; 
	select a.region_id,a.row,a.coulmn,a.`name` into v_region_id,v_row,v_column,v_name from t_bss_cabinet a where id = new.cabinet_id;
	set v_model_id = fun_return_dict_values('network_devices_type',new.modelnumber,1);
	UPDATE boss_product_db.zq_ho_board_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, bo_name=null, bo_arae=fun_return_location_code(v_region_id, 2), 
			bo_cabinet=v_name, bo_camname=new.device_name, bo_camtype=new.device_type, bo_portid=null, bo_purchasingtime=new.purchasingtime, bo_storagetime=new.storagetime, bo_num=new.num, bo_porttype=null, bo_speed=null, bo_career=null, bo_machineroom=fun_return_location_code(v_region_id, 3), bo_storey=null, bo_district=concat_ws('-',fun_return_location_code(v_region_id, 1),v_row,v_column), bo_cabinetid=new.cabinet_id, bo_ubat=new.uw, bo_startubat=new.startubat, bo_ip=new.ip, bo_modelnumber=v_model_id, bo_storage=new.`status`
	WHERE id=new.id;
END
2020-04-24 17:29:28.503 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_board_link_tab` AFTER DELETE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_delete_board_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_network_devices')); 
		END; 
		
		delete from zq_ho_board_link_tab where id = old.id;
		
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 182, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.520 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_board_link_tab` AFTER DELETE ON `t_bss_network_devices` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
		BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
		INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
		VALUES (1,upper('trg_delete_board_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_network_devices')); 
		END; 
		
		delete from zq_ho_board_link_tab where id = old.id;
		
END
2020-04-24 17:29:28.522 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_region_link_tab` AFTER INSERT ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_region_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	INSERT INTO boss_product_db.zq_hostspaces_region_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, region_row, region_column, floor, voltage, amp, power, head, description, position_code, ubit, specifications, bearing)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.name, new.`code`, new.`row`, new.col, new.house_id, new.voltage, new.amp, new.power, new.fzr, new.description, v_location, new.cabinet_u_count, new.spec, new.bearing);
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 226, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.533 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_region_link_tab` AFTER INSERT ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_region_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	INSERT INTO boss_product_db.zq_hostspaces_region_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, name, code, region_row, region_column, floor, voltage, amp, power, head, description, position_code, ubit, specifications, bearing)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.name, new.`code`, new.`row`, new.col, new.house_id, new.voltage, new.amp, new.power, new.fzr, new.description, v_location, new.cabinet_u_count, new.spec, new.bearing);
END
2020-04-24 17:29:28.535 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_region_link_tab` AFTER UPDATE ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_region_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	UPDATE boss_product_db.zq_hostspaces_region_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, region_row=new.`row`, region_column=new.col, floor=new.house_id, voltage=new.voltage, amp=new.amp, power=new.power, head=new.fzr, description=new.description, position_code=v_location, ubit=new.cabinet_u_count, specifications=new.spec, bearing=new.bearing
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 226, line 4, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.537 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_region_link_tab` AFTER UPDATE ON `t_bss_region` FOR EACH ROW BEGIN
	declare v_id,v_location,v_house_code varchar(400);
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_region_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_region')); 
	END; 
	select replace(group_concat(code),',','-') into v_location from (
		select code from t_bss_areainfo where  FIND_IN_SET(id,fun_queryChildInfo_up(new.district_id)) order by create_time asc limit 0,2) tmp;
	select concat(old_house_code,'-',code) into v_house_code from t_bss_house where id = new.house_id;
	set v_location = concat(v_location,'-',v_house_code,'-',new.CODE);
	UPDATE boss_product_db.zq_hostspaces_region_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, name=new.`name`, code=new.`code`, region_row=new.`row`, region_column=new.col, floor=new.house_id, voltage=new.voltage, amp=new.amp, power=new.power, head=new.fzr, description=new.description, position_code=v_location, ubit=new.cabinet_u_count, specifications=new.spec, bearing=new.bearing
	WHERE id=new.id;
END
2020-04-24 17:29:28.537 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_region_link_tab` AFTER DELETE ON `t_bss_region` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_region_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_region')); 
	END; 
	delete from boss_product_db.zq_hostspaces_region_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 173, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.539 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_region_link_tab` AFTER DELETE ON `t_bss_region` FOR EACH ROW BEGIN
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_region_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_region')); 
	END; 
	delete from boss_product_db.zq_hostspaces_region_link_tab where id = old.id;
END
2020-04-24 17:29:28.540 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_ulocation_link_tab` AFTER INSERT ON `t_bss_ulocation` FOR EACH ROW BEGIN 
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_ulocation')); 
	END; 
	INSERT INTO boss_product_db.zq_xy_ulocation_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, uw, manage, name, state, cabinetid, `type`, equipmentid, customerid)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.uw, new.manager_ip, new.device_name, 
					case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, new.cabinet_id, new.type, new.device_id, new.subscribe_customer);
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 180, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.543 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_insert_ulocation_link_tab` AFTER INSERT ON `t_bss_ulocation` FOR EACH ROW BEGIN 
DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_insert_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('INSERT'),0,0,upper('t_bss_ulocation')); 
	END; 
	INSERT INTO boss_product_db.zq_xy_ulocation_link_tab
	(id, create_by, create_date, update_by, update_date, remarks, del_flag, uw, manage, name, state, cabinetid, `type`, equipmentid, customerid)
	VALUES(new.id, new.create_user, new.create_time, new.update_user, new.update_time, new.remark, new.isdel, new.uw, new.manager_ip, new.device_name, 
					case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, new.cabinet_id, new.type, new.device_id, new.subscribe_customer);
END
2020-04-24 17:29:28.544 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_ulocation_link_tab` AFTER UPDATE ON `t_bss_ulocation` FOR EACH ROW BEGIN 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_ulocation')); 
	END; 
	UPDATE boss_product_db.zq_xy_ulocation_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, uw=new.uw, manage=new.manager_ip, name=new.device_name, state=case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, cabinetid=new.cabinet_id, `type`=new.type, equipmentid=new.device_id, customerid=new.subscribe_customer
	WHERE id=new.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 181, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.548 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_update_ulocation_link_tab` AFTER UPDATE ON `t_bss_ulocation` FOR EACH ROW BEGIN 
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_update_ulocation_link_tab'),'admin',now(),new.id,v_err_message,upper('UPDATE'),0,0,upper('t_bss_ulocation')); 
	END; 
	UPDATE boss_product_db.zq_xy_ulocation_link_tab
	SET create_by=new.create_user, create_date=new.create_time, update_by=new.update_user, update_date=new.update_time, remarks=new.remark, del_flag=new.isdel, uw=new.uw, manage=new.manager_ip, name=new.device_name, state=case when new.`status` = 0 then 
										'占用'
							 when new.`status` = 1 then 
										'可用'
							 when new.`status` = 3 THEN
										'已预约'
							 end, cabinetid=new.cabinet_id, `type`=new.type, equipmentid=new.device_id, customerid=new.subscribe_customer
	WHERE id=new.id;
END
2020-04-24 17:29:28.549 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta - parse faield : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_ulocation_link_tab` AFTER DELETE ON `t_bss_ulocation` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_ulocation_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_ulocation')); 
	END; 
	delete from zq_xy_ulocation_link_tab where id = old.id;
END
com.alibaba.fastsql.sql.parser.ParserException: unkown handle type. pos 180, line 3, column 11, token IDENTIFIER EXIT
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclareHandler(MySqlStatementParser.java:8980) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseDeclare(MySqlStatementParser.java:8723) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:334) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseBlock(MySqlStatementParser.java:2219) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseStatementListDialect(MySqlStatementParser.java:1600) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:551) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:95) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseCreateTrigger(SQLStatementParser.java:3424) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.dialect.mysql.parser.MySqlStatementParser.parseCreate(MySqlStatementParser.java:387) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:231) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.SQLUtils.parseStatements(SQLUtils.java:536) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.fastsql.sql.repository.SchemaRepository.console(SchemaRepository.java:439) ~[fastsql-2.0.0_preview_973.jar:2.0.0_preview_973]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.MemoryTableMeta.apply(MemoryTableMeta.java:83) ~[canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta.apply(DatabaseTableMeta.java:156) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.TableMetaCache.apply(TableMetaCache.java:238) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parseQueryEvent(LogEventConvert.java:273) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.dbsync.LogEventConvert.parse(LogEventConvert.java:118) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:292) [canal.parse-1.1.4.jar:na]
	at com.alibaba.otter.canal.parse.inbound.mysql.MysqlMultiStageCoprocessor$SimpleParserStage.onEvent(MysqlMultiStageCoprocessor.java:246) [canal.parse-1.1.4.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.processEvents(BatchEventProcessor.java:168) [disruptor-3.4.2.jar:na]
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:125) [disruptor-3.4.2.jar:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_161]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
2020-04-24 17:29:28.551 [MultiStageCoprocessor-other-oldToNew-0] WARN  c.a.o.canal.parse.inbound.mysql.tsdb.DatabaseTableMeta - dup apply for sql : CREATE DEFINER=`root`@`localhost` TRIGGER `trg_delete_ulocation_link_tab` AFTER DELETE ON `t_bss_ulocation` FOR EACH ROW BEGIN
	DECLARE v_err_message VARCHAR (4000); 
	DECLARE EXIT HANDLER FOR SQLEXCEPTION 
	BEGIN get diagnostics CONDITION 1 v_err_message=message_text; 
	INSERT INTO boss_product_db.t_bss_proc_log (`type`,title,create_user,create_time,params,`exception`,oper,is_reboot,is_success,table_name) 
	VALUES (1,upper('trg_delete_ulocation_link_tab'),'admin',now(),old.id,v_err_message,upper('DELETE'),0,0,upper('t_bss_ulocation')); 
	END; 
	delete from zq_xy_ulocation_link_tab where id = old.id;
END
